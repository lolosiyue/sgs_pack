crash:
Retrial
hasHuangenEffect
PlusLiuli
5.0 guidao keep using leiji

not done:
张春华 无情 lostmaxhp ai
du sunjian tongpao
plusRende
PlusGuidao --pindian
SevenWeiYuan
ZhouYu_Four
keshengzhaoyun
luatouying

test:


audio:
biaofeng
lubu
woft
emjr
meizl
leo
xiake

ai:


code:
function SmartAI:isGoodTarget(to, targets, card)
--hasHeavySlashDamage
hasHeavyDamage(from, card, to, nature)
--getDamagedEffects --not use
changeTranslation
needToLoseHp
evaluatePlayerRole -> sgs.ai_role[use.from:objectName()]=="rebel"
SlashMissed  -> sgs.CardOffset sgs.CardOnEffect 
toSlashEffect toCardEffect
effect.card:isKindOf("Slash")


p:hasSkills(sgs.recover_skill)

canwake 

Audio skill?

card target
use.from
ai_target_revises

use.to
ai_useto_revises

ai_use_revises

card priority
ai_card_priority

consider of using card (benefit debuff) wuqian jilve
ai_used_revises


damage struct
ai_ajustdamage_from
ai_ajustdamage_to
ai_damage_effect -- not use


ai_can_damagehp
ai_need_damaged

ai_slash_prohibit

ai_playerchosen_intention


enabled_at_play = function(self, player)
		return sgs.Self:hasFlag("jx") ->player
	end,

function sgs.ai_armor_value 用咩裝

pindian
sgs.ai_cardneed.bignumber

hasBuquEffect(player)
hasJueqingEffect(from, to, nature)
hasManjuanEffect(player,manjuan_only)
hasTuntianEffect(to, need_zaoxian)
hasZhaxiangEffect(to)
hasOrangeEffect(player) --dontHurt not yet use
canNiepan(player) not yet use
enyuan?


cantDamageMore(from, to) 

getCardDamageNature

needToLoseHp -> getLostHp()skill

getBestHp() -> skill wake up lose maxhp

choice =src

mark &

prompt mark for skill 

askForSinglePeach jiushi

assignKeep 留牌

find to slash
for _, enemy in ipairs(self.enemies) do
	if friend:canSlash(enemy) and not self:slashProhibit(slash, enemy) and sgs.getDefenseSlash(enemy, self) <= 2
		and self:slashIsEffective(slash, enemy) and self:isGoodTarget(enemy, self.enemies, slash)
		and enemy:objectName() ~= self.player:objectName() then
		self.meizlxiangjieTarget = enemy
		return true
	end
end
find to damage enemy
self:damageIsEffective(enemy, sgs.DamageStruct_Thunder) and not self:cantbeHurt(enemy)



ai_skill_defense

ImitateResult_DrawNCards

dontHurt cost prevent shield


local quhu_filter = function(self,player,carduse)
	if carduse.card:isKindOf("QuhuCard") then
		sgs.ai_quhu_effect = true
	end
end

table.insert(sgs.ai_choicemade_filter.cardUsed,quhu_filter)

?
被動傷害intention?

filterEvent

sgs.current_mode_players.rebel == 0
sgs.playerRoles["rebel"] == 0 











--相关信息：判断是否需要改判
sgs.ai_need_retrial_func["typhoon"] = function(self,judge,isGood,who,isFriend,lord)
    local others = self.room:getOtherPlayers(who)
    local friends,enemies = {},{}
    for _,p in sgs.list(others)do
        if who:distanceTo(p)==1 then
            if self:isFriend(p) then
                table.insert(friends,p)
            else
                table.insert(enemies,p)
            end
        end
    end
    local friend_discard_num,enemy_discard_num = 0,0
    for _,friend in sgs.list(friends)do
        local num = friend:getHandcardNum()
        num = math.min(6,num)
        friend_discard_num = friend_discard_num+num
    end
    for _,enemy in sgs.list(enemies)do
        local num = enemy:getHandcardNum()
        num = math.min(6,num)
        enemy_discard_num = enemy_discard_num+num
    end
    --如果没中奖
    if isGood then
        if friend_discard_num==0 and enemy_discard_num>0 then
            return true
        end
        return false
    end
    --如果中奖
    if enemy_discard_num==0 and friend_discard_num>0 then
        return true
    elseif friend_discard_num>enemy_discard_num+1 then
        return true
    end
    return false
end
--相关信息：改判动机值
sgs.ai_retrial_intention["typhoon"] = function(self,judge,start_good)
    return 0
end